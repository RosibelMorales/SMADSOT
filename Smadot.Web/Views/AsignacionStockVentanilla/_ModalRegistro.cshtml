@using Smadot.Models.Entities.AsignacionStock.Response;
@model RegistroStockventanillaResponse
@using Smadot.Utilities.GestionTokens
@{
    var usuario = LecturaToken.UsuarioActualEnSesion(Context);
}
<div class="row mb-5">
    <form role="form" id="form_registroSolicitudFormaValorada" class="clearfix">
        @if (Model.Id > 0)
        {
            <input type="hidden" asp-for="Id" />
        }
        <div class="row mb-5">
            <div class="col-md-3">
                <div class="form-group fv-row">
                    <label class="form-label" for="FechaEntrega">Fecha de Entrega: &nbsp;<strong class="obligatorio">*</strong></label>
                    <div class="position-relative" style="width: 50% !important">
                        @if (Model.isReadOnly)
                        {
                            <input disabled class="form-control form-control-solid" id="FechaEntrega" name="FechaEntrega" asp-for="FechaEntrega" type="text" />
                        }
                        else
                        {
                            <input class="form-control form-control-solid" id="FechaEntrega" name="FechaEntrega" asp-for="FechaEntrega" type="text" />
                        }
                        <div class="position-absolute translate-middle-y top-50 end-0 me-3">
                            <i class="fa-solid fa-calendar-days" onclick="document.getElementById('FechaEntrega').focus(); return false;"></i>
                        </div>
                    </div>
                </div>
            </div>
            <div class="col-md-3">
                <div class="form-group fv-row">
                    <label class="form-label" asp-for="IdAlmacen">Almacen: &nbsp;<strong class="obligatorio">*</strong></label>
                    @if (Model.isReadOnly)
                    {

                    <select disabled asp-for="IdAlmacen" asp-items="@((List<SelectListItem>)ViewBag.almacenes)" class="form-select form-select-transparent" data-control="select2" data-placeholder="Seleccionar Almacen"></select>
                    }
                    else
                    {

                    <select asp-for="IdAlmacen" asp-items="@((List<SelectListItem>)ViewBag.almacenes)" class="form-select form-select-transparent" data-control="select2" data-placeholder="Seleccionar Almacen"></select>
                    }
                </div>
            </div>
            <div class="col-md-6 mb-5">
                <div class="form-group">
                    <label class="form-label" asp-for="UserRecibe">¿Quién recibió? : &nbsp;<strong class="obligatorio">*</strong></label>
                    <div class="position-relative">
                        @if (Model.isReadOnly)
                        {

                        <input readonly type="text" class="form-control" asp-for="UserRecibe" />
                        }
                        else
                        {
                        <input type="text" class="form-control" asp-for="UserRecibe" />

                        }
                    </div>
                </div>
            </div>
        </div>
        <div class="col-md-12 mb-5">
            <partial name="~/Views/Shared/_TablaFija2.cshtml" model="@Model.TablaFijaViewModel" />
        </div>
        <br />
        <hr />
        <div class="clearfix">
            <div class="pull-left text-muted text-vertical-align-button">
                * Campos obligatorios
            </div>
        </div>
        <div class="row mb-5">
            <div class="col-md-12 d-flex justify-content-end">
                <p>
                    <strong>Aprobó:&nbsp;</strong> @if (Model.isReadOnly)
                    {
                        @Model.UserSolicita
                    }
                    else
                    {
                        @usuario.Nombre
                    }
                </p>
            </div>
        </div>
    </form>
</div>
