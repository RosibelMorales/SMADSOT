@using Smadot.Models.Dicts;
@inject Smadot.Utilities.GestionTokens.IUserResolver UserResolver
@model Smadot.Models.Entities.Proveedor.Response.ProveedorResponseData.ProveedorResponse

<div class="btn-group dropup drop-up dropdown">
    <a href="javascript:;" class="btn btn-sm btn-secondary btn-text-primary btn-hover-primary btn-icon mr-2" data-bs-toggle="dropdown">
        <i class="bi bi-three-dots"></i>
    </a>
    <ul class="dropdown-menu">
        <li><h6 class="dropdown-header">Selecciona una acción:</h6></li>
        @if (UserResolver.HasPermission(MenuProveedores.Desautorizar) && Model.Autorizado == true)
        {
            <li class="btnEstatus" data-id="@Model.Id" data-nombre="@Model.Nombre" data-estatus="@Model.Autorizado">
                <label class="dropdown-item">
                    <span class="navi-icon"><i class="bi bi-check-circle"></i></span>
                    <span class="navi-text">Desautorizar</span>
                </label>
            </li>
        }
        else if (UserResolver.HasPermission(MenuProveedores.Autorizar) && Model.Autorizado != true)
        {
            <li class="btnEstatus" data-id="@Model.Id" data-nombre="@Model.Nombre" data-estatus="@Model.Autorizado">
                <label class="dropdown-item">
                    <span class="navi-icon"><i class="bi bi-x-circle"></i></span>
                    <span class="navi-text">Autorizar</span>
                </label>
            </li>
        }
        @if (UserResolver.HasPermission(MenuProveedores.Detalle))
        {
            <li class="btnDetalle" data-id="@Model.Id">
                <label class="dropdown-item">
                    <span class="navi-icon"><i class="bi bi-zoom-in"></i></span>
                    <span class="navi-text">Detalle</span>
                </label>
            </li>
        }

    </ul>
</div>