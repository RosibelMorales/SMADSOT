@{
    ViewData["Title"] = "Estadística de uso de formas valoradas";
    Layout = "~/Views/Shared/_LayoutSmadot.cshtml";
}
@section styles {
    <link rel="stylesheet" href="~/assets/plugins/custom/prismjs/prismjs.bundle.css" />
    <link rel="stylesheet" href="~/assets/plugins/custom/datatables/datatables.bundle.css" />
    <style>
        @*.table-responsive>table.dataTable.dtr-inline.collapsed>tbody>tr>td.dtr-control:before,table.dataTable.dtr-inline.collapsed>tbody>tr>th.dtr-control:before{top:1.3rem;left:95px;height:1.35rem;width:1.35rem;line-height:1.5;text-indent:-999px!important;margin-top:-0.675rem;margin-right:0.675rem;display:inline-block;position:relative;font-size:1.05rem;border:0;box-shadow:none;mask-size:85%;-webkit-mask-size:85%;content:".";}*@.table-responsive>.table.gs-7 td.dtr-control:first-child,
        .table.gs-7 th.dtr-control:first-child {
            padding-left: 0 !important;
        }


        .table-responsive>.table.gs-7 td.dtr-control:first-child,
        .table.gs-7 th.dtr-control:first-child {
            padding: 0.5rem 1.2rem !important;
            min-width: 80px;
        }

        main[role="main"] h1,
        main[role="main"] h2,
        main[role="main"] h3,
        main[role="main"] h4,
        main[role="main"] h5,
        main[role="main"] h6 p {
            margin-bottom: 0px !important;
        }

        .table.table-striped.gx-7.dataTable.no-footer tr th {
            font-weight: bold;
        }

        .bg-primary-smadsot {
            background: var(--kt-text-secondary) !important;
        }

        .bg-gray {
            background: #777 !important;
        }

        .card-folio>.symbol .text-secondary.bg-light-secondary {
            color: #8b704a !important;
            background: #e0ddd7 !important;
        }

        .card-folio>.symbol .text-orange.bg-light-orange {
            color: #f57d06 !important;
            background: #f8ddc2 !important;
        }

        .card-folio>.symbol .text-orange2.bg-light-orange2 {
            color: #f54e06 !important;
            background: rgb(251, 200, 188) !important;
        }
    </style>

}
<link rel="stylesheet" type="text/css" href="~/css/dashboard.css" />
@section breadcrumb {
    <li class="breadcrumb-item text-muted">Seguimiento a CVV</li>
    <li class="breadcrumb-item text-muted">
        <span class="bullet bg-gray-400 w-5px h-2px"></span>
    </li>
    <li class="breadcrumb-item text-muted">Estadística</li>
    <li class="breadcrumb-item text-muted">
        <span class="bullet bg-gray-400 w-5px h-2px"></span>
    </li>
    <li class="active">Dashboard</li>
}

@section toolbar {

    @*<div class="btn-group dropup drop-up dropdown">
<button class="btn btn-sm fw-bold btn-primary save" type="button" data-id="" id="save">Nuevo</button>
</div>*@


}
<div class="row">
    <div class="card card-flush h-lg-100 shadow-sm">
        <div class="card-body">
            <div class="row g-5 g-xl-5 flex-center py-4">
                <div class="col-xl-6">
                    <label class="form-label">Período</label>
                    <input class="form-control form-control-sm" placeholder="Selecciona un rango de fechas..."
                        id="kt_daterangepicker_1" />
                </div>
                <div class="col-xl-6">
                    <label class="form-label">Verificentro</label>
                    <select class="form-control form-select" asp-items="(List<SelectListItem>)ViewBag.CentroAtencion"
                        name="IdCentroAtencion" id="IdCentroAtencion">
                        <option value="">TODOS</option>
                    </select>
                </div>
            </div>
            <div class="row g-5 g-xl-5 flex-center py-4" id="indicadores-content">
            </div>
            <div class="row g-5 g-xl-5 flex-center py-4" id="indicadores-content">
                <h3 class="fs-4 fw-bold pe-2 pb-2">
                    Folios
                </h3>
                <div class="row" id="content-folios">

                </div>
            </div>
        </div>
    </div>
</div>

<div class="row g-5 g-xl-5 flex-center py-4">
    <div class="card h-lg-100 shadow-sm">
        <div class="card-header">
            <h3 class="card-title">
                Registro de Verificaciones
            </h3>

            <div class="card-toolbar">
                <div class="card-toolbar flex-row-fluid justify-content-end gap-5">
                    <a href='@Url.Action("DescargarReporte","FoliosVendidosCentrosVerificacion")'
                        id="linkDownloadReport" style="display:none"></a>
                    <button type="button" class="btn btn-sm fw-bold btn-primary" data-kt-menu-trigger="click"
                        data-kt-menu-placement="bottom-end">
                        Exportar
                    </button>
                    <div id="kt_datatable_export_menu"
                        class="menu menu-sub menu-sub-dropdown menu-column menu-rounded menu-gray-600 menu-state-bg-light-primary fw-semibold fs-7 w-200px py-4"
                        data-kt-menu="true">
                        <div class="menu-item px-3">
                            <a href="#" class="menu-link px-3" id="btnExport" data-kt-export="excel">
                                <i class="las la-file-excel"></i>&nbsp;&nbsp;
                                Exportar a Excel
                            </a>
                        </div>
                        @* <div class="menu-item px-3">
                        <a href="#" class="menu-link px-3" data-kt-export="pdf">
                        <i class="las la-file-pdf"></i>&nbsp;&nbsp;
                        Exportar a PDF
                        </a>
                        </div> *@
                    </div>
                    <div id="kt_datatable_buttons" class="d-none"></div>
                </div>
            </div>
        </div>
        <!--begin::Body-->
        <div class="card-body pt-5 ">
            <div class="row">

                <div class="my-5">
                    <div class="row">
                        <div class="col-lg-3 pb-4">
                            <div class="form-group fv-row">
                                <label class="form-label">Período</label>
                                <input class="form-control form-control-sm" id="grid_date_range" />
                            </div>
                        </div>
                        <div class="col-md-3 pb-4">
                            <div class="form-group fv-row">
                                <label class="form-label">Verificentro</label>
                                <select class="form-control form-select"
                                    asp-items="(List<SelectListItem>)ViewBag.CentroAtencion" name="IdVerificentro"
                                    id="IdVerificentro">
                                </select>
                            </div>
                        </div>
                        <div class="col-md-3 pb-4">
                            <div class="form-group fv-row">
                                <label class="form-label" for="hologramaGrid">Tipo Holograma</label>
                                <select class="form-control form-select" data-control="select2"
                                    asp-items="(List<SelectListItem>)ViewBag.TipoCertificado" name="hologramaGrid"
                                    id="hologramaGrid">
                                </select>
                            </div>
                        </div>

                        <div class="col-md-3 pb-4">
                            <div class="form-group fv-row">
                                <label class="form-label" for="rechazoGrid">Causa Rechazo</label>
                                <select class="form-control form-select" data-control="select2"
                                    asp-items="(List<SelectListItem>)ViewBag.CausaRechazo" name="rechazoGrid"
                                    id="rechazoGrid">
                                </select>
                            </div>
                        </div>

                        <div class="col-md-3 pb-4">
                            <div class="form-group fv-row">
                                <label class="form-label" for="rechazoGrid">Tipo de Servicio</label>
                                <select class="form-control form-select" data-control="select2"
                                    asp-items="(List<SelectListItem>)ViewBag.TiposServicio" name="TiposServicio"
                                    id="TiposServicio">
                                </select>
                            </div>
                        </div>

                        <div class="col-md-3 pb-4">
                            <div class="form-group fv-row">
                                <label class="form-label" for="rechazoGrid">Motivo de Verificación</label>
                                <select class="form-control form-select" data-control="select2"
                                    asp-items="(List<SelectListItem>)ViewBag.MotivosVerificacion"
                                    name="MotivosVerificacion" id="MotivosVerificacion">
                                </select>
                            </div>
                        </div>
                        <div class="col-md-3 pb-4">
                            <div class="form-group fv-row">
                                <label class="form-label" for="anioModeloGrid">Año Modelo Min.</label>
                                <input type="number" min="1920" max="@(DateTime.Now.Year+1)"
                                    class="form-control form-control-sm" id="ModeloMin" placeholder="Ingrese un año" />
                            </div>
                        </div>
                        <div class="col-md-3 pb-4">
                            <div class="form-group fv-row">
                                <label class="form-label" for="anioModeloGrid">Año Modelo Max.</label>
                                <input type="number" min="1920" max="@(DateTime.Now.Year+1)"
                                    class="form-control form-control-sm" id="ModeloMax" placeholder="Ingrese un año" />
                            </div>
                        </div>
                        <div class="d-flex flex-column flex-md-row-auto mb-md-0 mb-2 align-self-end">
                            <div class="d-flex flex-column-auto align-self-end">
                                <a class="btn btn-sm fw-bold btn-primary" id="btn-buscar">Buscar</a>
                            </div>
                        </div>
                    </div>
                </div>
                <table class="table table-striped border rounded gy-5 gs-7 w-100" id="kt_datatable">
                </table>

            </div>
        </div>
        <!--end::Body-->
    </div>
</div>

<div class="row g-5 g-xl-5 flex-center py-4">
    <div class="card h-md-100" dir="ltr">
        <div class="card-header">
            <h3 class="card-title">
                Estadística
            </h3>
        </div>
        <!--begin::Body-->
        <div class="card-body d-flex justify-content-between flex-column">
            <div class="row g-5 g-xl-5 flex-center py-4">
                <div class="col-xl-6">
                    <label class="form-label">Período</label>
                    <input class="form-control form-control-sm" placeholder="Selecciona un rango de fechas..."
                        id="barchart_date_filter" />
                </div>
            </div>
            <div class="row g-5 g-xl-5 flex-center pb-4">
                <div class="col-lg-12">
                    <div class="fs-3 py-2 gray-700">Verificaciones por CVV</div>
                    <div class="bottom-buffer" id="div_Bar">
                        <div id="barchart_cvv" style="height: 330px;"></div>
                    </div>
                </div>
                <div class="col-lg-6">
                    <div class="fs-3 py-2 gray-700">Porcentaje de Solicitudes Por Trámite</div>

                    <div class="bottom-buffer">
                        <div id="kt_amcharts_3" style="width:100%;height: 330px;"></div>
                    </div>
                </div>
                <div class="col-lg-6">
                    <div class="fs-3 py-2 gray-700">Verificaciones por Certificado</div>
                    <div class="bottom-buffer">
                        <div id="kt_amcharts_5" style="width:100%;height: 330px;"></div>
                    </div>
                </div>
            </div>

        </div>
        <!--end::Body-->
    </div>
</div>



@section Scripts {
    <script src="~/assets/plugins/custom/prismjs/prismjs.bundle.js"></script>
    <script src="https://cdn.amcharts.com/lib/5/index.js"></script>
    <script src="https://cdn.amcharts.com/lib/5/xy.js"></script>
    <script src="https://cdn.amcharts.com/lib/5/percent.js"></script>
    <script src="https://cdn.amcharts.com/lib/5/radar.js"></script>
    <script src="https://cdn.amcharts.com/lib/5/themes/Animated.js"></script>
    <script src="https://cdn.amcharts.com/lib/5/plugins/exporting.js"></script>
    <script src="~/assets/plugins/custom/datatables/datatables.bundle.js"></script>
    <script src="~/js/AdministracionFormasValoradas/EstadisticaUsoFormasValoradas/index.js"
        asp-append-version="true"></script>
}